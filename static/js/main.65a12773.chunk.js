(this["webpackJsonpcountry-quiz"]=this["webpackJsonpcountry-quiz"]||[]).push([[0],[,,,,,,,,,,,,,,function(t,e,n){},,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),s=n(9),a=n.n(s),i=(n(14),n(0));function o(){return Object(i.jsxs)("footer",{children:["Created by ",Object(i.jsx)("a",{href:"https://github.com/Maxeemja",children:"Maxeemja"})," - devChallenges.io"]})}var u=n(2),l=n(5),j=n(3),b=n.n(j),d=n(7),f=function(){var t=Object(c.useState)("loading"),e=Object(u.a)(t,2),n=e[0],r=e[1],s=Object(c.useCallback)(function(){var t=Object(d.a)(b.a.mark((function t(e){var n,c,s,a,i,o=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"GET",c=o.length>2&&void 0!==o[2]?o[2]:null,s=o.length>3&&void 0!==o[3]?o[3]:{"Content-Type":"application/json"},t.prev=3,t.next=6,fetch(e,{method:n,body:c,headers:s});case 6:if((a=t.sent).ok){t.next=9;break}throw new Error("ERROR! status: ".concat(a.status));case 9:return t.next=11,a.json();case 11:return i=t.sent,t.abrupt("return",i);case 15:throw t.prev=15,t.t0=t.catch(3),r("error"),t.t0;case 19:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e){return t.apply(this,arguments)}}(),[]);return{request:s,process:n,setProcess:r}},h=n(23),O=n.p+"static/media/1488.372b42cf.gif",m=function(){return Object(i.jsx)("div",{style:{margin:"0 auto",display:"flex",justifyContent:"center"},children:Object(i.jsx)("img",{src:O,alt:"spinner"})})},x=(n(17),function(t){var e=t.type,n=t.country;switch(e){case"capital":return Object(i.jsx)("div",{className:"text",children:"".concat(n.capital," is the capital of")});case"flag":return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"flag",children:Object(i.jsx)("img",{src:n.flag,alt:""})}),Object(i.jsx)("div",{className:"text",children:"Which country does this flag belongs to?"})]});default:return}}),p=function(t){var e=t.goForResults,n=t.setCounter,r=(t.setStatus,function(){var t=f().request,e=Math.floor(249*Math.random()),n=function(){var n=Object(d.a)(b.a.mark((function n(){var r,s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("".concat("https://restcountries.com/v3.1/","all"));case 2:return r=n.sent,s=c(r[e]).name,n.abrupt("return",[c(r[e])].concat(Object(l.a)(r.sort((function(){return Math.random()-Math.random()})).filter((function(t){return t.name!==s})).slice(0,3).map(c))));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c=function(t){return{name:t.name.common,capital:t.capital,flag:t.flags.png,subregion:t.subregion,continent:t.continents[0],id:Object(h.a)()}};return{getRandomCountry:n}}()),s=r.getRandomCountry,a=f(),o=a.process,j=a.setProcess,O=["capital","flag"],p=Object(c.useState)({}),v=Object(u.a)(p,2),g=v[0],y=v[1],k=Object(c.useState)("capital"),w=Object(u.a)(k,2),C=w[0],N=w[1],q=Object(c.useState)([]),S=Object(u.a)(q,2),_=S[0],z=S[1],M=Object(c.useState)(!1),R=Object(u.a)(M,2),E=R[0],L=R[1],F=Object(c.useState)(!1),A=Object(u.a)(F,2),Q=A[0],T=A[1],B=function(){N(O[Math.floor(2*Math.random())]),j("loading"),s().then((function(t){y(t[0]),z(t.sort((function(){return Math.random()-.5})))})).then((function(){return j("idle")}))};Object(c.useEffect)((function(){B()}),[]);var D=function(t){t.preventDefault(),L(!0);var e=t.target.textContent.slice(1),c=Object(l.a)(document.querySelectorAll(".answer"));if(e===g.name){n((function(t){return t+1})),t.target.classList.add("answer-success"),t.target.querySelector("i").classList="far fa-check-circle"}else{t.target.classList.add("answer-fail"),t.target.closest("li").querySelector("i").classList="far fa-times-circle";var r=c.filter((function(t){return t.textContent.slice(1)===g.name}))[0];r.classList="answer answer-success",r.querySelector("i").classList="far fa-check-circle",T(!0)}c.forEach((function(t){return t.style.pointerEvents="none"}))};return"loading"===o?Object(i.jsx)(m,{}):"error"===o?Object(i.jsx)("div",{style:{justifyContent:"center"},children:"Error!!!"}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"quiz__block-content-question",children:Object(i.jsx)(x,{country:g,type:C})}),Object(i.jsx)("div",{className:"quiz__block-content-answers",children:Object(l.a)(_).map((function(t,e){return Object(i.jsxs)("li",{onClick:D,className:"answer",children:[Object(i.jsx)("span",{children:0===e?"A":1===e?"B":2===e?"C":"D"}),t.name,Object(i.jsx)("i",{})]},t.id)}))}),E&&!Q?Object(i.jsx)("button",{onClick:function(){L(!1),B()},className:"next-btn",children:"Next"}):E&&Q?Object(i.jsx)("button",{onClick:function(){return e(!0)},className:"next-btn",children:"See Results"}):null]})},v=n.p+"static/media/winners.d76bfdf8.svg",g=(n(18),function(t){var e=t.counter,n=t.rebootQuiz;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("img",{src:v,alt:""}),Object(i.jsx)("div",{className:"results-label",children:"Results"}),Object(i.jsxs)("div",{className:"results-count",children:["You`ve got ",Object(i.jsx)("span",{children:e})," right answers!"]}),Object(i.jsx)("button",{onClick:n,className:"results-btn",children:"Try Again"})]})}),y=n.p+"static/media/adventure.182b6171.svg",k=(n(19),function(){var t=Object(c.useState)(!1),e=Object(u.a)(t,2),n=e[0],r=e[1],s=Object(c.useState)(0),a=Object(u.a)(s,2),o=a[0],l=a[1];return Object(i.jsxs)("div",{className:"quiz__block",children:[Object(i.jsx)("div",{className:"quiz__block-title",children:"Country Quiz"}),Object(i.jsx)("div",{className:"quiz__block-img",children:Object(i.jsx)("img",{src:y,alt:"adv",hidden:!!n})}),Object(i.jsx)("div",{className:n?"quiz__block-results":"quiz__block-content",children:n?Object(i.jsx)(g,{rebootQuiz:function(){l(0),r(!1)},counter:o,setCounter:l}):Object(i.jsx)(p,{goForResults:r,setCounter:l})})]})});n(20);var w=function(){return Object(i.jsxs)("div",{className:"app",children:[Object(i.jsx)(k,{}),Object(i.jsx)(o,{})]})};a.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(w,{})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.65a12773.chunk.js.map