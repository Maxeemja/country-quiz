(this["webpackJsonpcountry-quiz"]=this["webpackJsonpcountry-quiz"]||[]).push([[0],[,,,,,,,,,,,,,,,function(t,e,n){},,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),s=n(10),a=n.n(s),i=(n(15),n(0));function o(){return Object(i.jsxs)("footer",{children:["Created by ",Object(i.jsx)("a",{href:"https://github.com/Maxeemja",children:"Maxeemja"})," - devChallenges.io"]})}var u=n(2),l=n(6),j=n(3),b=n.n(j),d=n(8),f=n(5),h=function(){var t=Object(f.useState)("loading"),e=Object(u.a)(t,2),n=e[0],r=e[1],s=Object(c.useCallback)(function(){var t=Object(d.a)(b.a.mark((function t(e){var n,c,s,a,i,o=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"GET",c=o.length>2&&void 0!==o[2]?o[2]:null,s=o.length>3&&void 0!==o[3]?o[3]:{"Content-Type":"application/json"},t.prev=3,t.next=6,fetch(e,{method:n,body:c,headers:s});case 6:if((a=t.sent).ok){t.next=9;break}throw new Error("ERROR! status: ".concat(a.status));case 9:return t.next=11,a.json();case 11:return i=t.sent,t.abrupt("return",i);case 15:throw t.prev=15,t.t0=t.catch(3),r("error"),t.t0;case 19:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e){return t.apply(this,arguments)}}(),[]);return{request:s,process:n,setProcess:r}},O=n(24),m=n.p+"static/media/1488.372b42cf.gif",x=function(){return Object(i.jsx)("div",{style:{margin:"0 auto",display:"flex",justifyContent:"center"},children:Object(i.jsx)("img",{src:m,alt:"spinner"})})},p=(n(18),function(t){var e=t.type,n=t.country;switch(e){case"capital":return Object(i.jsx)("div",{className:"text",children:"".concat(n.capital," is the capital of")});case"flag":return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"flag",children:Object(i.jsx)("img",{src:n.flag,alt:""})}),Object(i.jsx)("div",{className:"text",children:"Which country does this flag belongs to?"})]});default:return}}),v=function(t){var e=t.goForResults,n=t.setCounter,r=(t.setStatus,function(){var t=h().request,e=Math.floor(249*Math.random()),n=function(){var n=Object(d.a)(b.a.mark((function n(){var r,s;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t("".concat("https://restcountries.com/v3.1/","all"));case 2:return r=n.sent,s=c(r[e]).name,n.abrupt("return",[c(r[e])].concat(Object(l.a)(r.sort((function(){return Math.random()-Math.random()})).filter((function(t){return t.name!==s})).slice(0,3).map(c))));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c=function(t){return{name:t.name.common,capital:t.capital,flag:t.flags.png,subregion:t.subregion,continent:t.continents[0],id:Object(O.a)()}};return{getRandomCountry:n}}()),s=r.getRandomCountry,a=h(),o=a.process,j=a.setProcess,f=["capital","flag"],m=Object(c.useState)({}),v=Object(u.a)(m,2),g=v[0],y=v[1],w=Object(c.useState)("capital"),k=Object(u.a)(w,2),C=k[0],_=k[1],N=Object(c.useState)([]),q=Object(u.a)(N,2),S=q[0],z=q[1],M=Object(c.useState)(!1),R=Object(u.a)(M,2),E=R[0],L=R[1],F=Object(c.useState)(!1),A=Object(u.a)(F,2),Q=A[0],T=A[1],B=function(){_(f[Math.floor(2*Math.random())]),j("loading"),s().then((function(t){y(t[0]),z(t.sort((function(){return Math.random()-.5})))})).then((function(){return j("idle")}))};Object(c.useEffect)((function(){B()}),[]);var D=function(t){t.preventDefault(),L(!0);var e=t.target.textContent.slice(1),c=Object(l.a)(document.querySelectorAll(".answer"));if(e===g.name){n((function(t){return t+1})),t.target.classList.add("answer-success"),t.target.querySelector("i").classList="far fa-check-circle"}else{t.target.classList.add("answer-fail"),t.target.closest("li").querySelector("i").classList="far fa-times-circle";var r=c.filter((function(t){return t.textContent.slice(1)===g.name}))[0];r.classList="answer answer-success",r.querySelector("i").classList="far fa-check-circle",T(!0)}c.forEach((function(t){return t.style.pointerEvents="none"}))};return"loading"===o?Object(i.jsx)(x,{}):"error"===o?Object(i.jsx)("div",{style:{justifyContent:"center"},children:"Error!!!"}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"quiz__block-content-question",children:Object(i.jsx)(p,{country:g,type:C})}),Object(i.jsx)("div",{className:"quiz__block-content-answers",children:Object(l.a)(S).map((function(t,e){return Object(i.jsxs)("li",{onClick:D,className:"answer",children:[Object(i.jsx)("span",{children:0===e?"A":1===e?"B":2===e?"C":"D"}),t.name,Object(i.jsx)("i",{})]},t.id)}))}),E&&!Q?Object(i.jsx)("button",{onClick:function(){L(!1),B()},className:"next-btn",children:"Next"}):E&&Q?Object(i.jsx)("button",{onClick:function(){return e(!0)},className:"next-btn",children:"See Results"}):null]})},g=n.p+"static/media/undraw_winners_ao2o 2.d76bfdf8.svg",y=(n(19),function(t){var e=t.counter,n=t.rebootQuiz;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("img",{src:g,alt:""}),Object(i.jsx)("div",{className:"results-label",children:"Results"}),Object(i.jsxs)("div",{className:"results-count",children:["You`ve got ",Object(i.jsx)("span",{children:e})," right answers!"]}),Object(i.jsx)("button",{onClick:n,className:"results-btn",children:"Try Again"})]})}),w=n.p+"static/media/undraw_adventure_4hum 1.182b6171.svg",k=(n(20),function(){var t=Object(f.useState)(!1),e=Object(u.a)(t,2),n=e[0],c=e[1],r=Object(f.useState)(0),s=Object(u.a)(r,2),a=s[0],o=s[1];return Object(i.jsxs)("div",{className:"quiz__block",children:[Object(i.jsx)("div",{className:"quiz__block-title",children:"Country Quiz"}),Object(i.jsx)("div",{className:"quiz__block-img",children:Object(i.jsx)("img",{src:w,alt:"adv",hidden:!!n})}),Object(i.jsx)("div",{className:n?"quiz__block-results":"quiz__block-content",children:n?Object(i.jsx)(y,{rebootQuiz:function(){o(0),c(!1)},counter:a,setCounter:o}):Object(i.jsx)(v,{goForResults:c,setCounter:o})})]})});n(21);var C=function(){return Object(i.jsxs)("div",{className:"app",children:[Object(i.jsx)(k,{}),Object(i.jsx)(o,{})]})};a.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(C,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.610d957e.chunk.js.map